<?php

namespace Validation\Rules;

class Email extends AbstractRule{

    public static function check($value, $args)
    {
        $regex = isset($args[0]) ?
            '/^([.0-9a-z_-]+)@(([0-9a-z-]+\.)+[0-9a-z]{2,4})$/i' :
            '/^([*+!.&#$Â¦\'\\%\/0-9a-z^_`{}=?~:-]+)@(([0-9a-z-]+\.)+[0-9a-z]{2,4})$/i';
        return preg_match($regex, trim($value)) > 0;
    }

    public static function getError()
    {
        return \L::tc('Field %0 must a valid e-mail address', 'validation');
    }
}